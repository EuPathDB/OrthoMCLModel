<?xml version="1.0" encoding="UTF-8"?>
<wdkModel>

    <!-- ************ -->
    <!-- questionSets -->
    <!-- ************ -->
    

    <questionSet name="GroupQuestions"
                 displayName="Searches to find Ortholog Groups">
      <description>
	<![CDATA[
          Search for Ortholog Groups.
        ]]>
      </description>

      <question name="ByNameList" queryRef="GroupIds.ByNameList" 
		displayName="Group ID(s)"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
	  <![CDATA[
                Find Ortholog Groups by ID(s) assigned in the current or previous releases of OrthoMCL.
			]]>
        </description>
      </question>

      <question name="ByAccession" queryRef="GroupIds.ByAccession" 
                displayName="Group or Sequence ID"
                recordClassRef="GroupRecordClasses.GroupRecordClass"
                noSummaryOnSingleRecord="true">
        <description>
          <![CDATA[
                Find Ortholog Groups by an ID assigned in the current or previous releases of OrthoMCL.
                        ]]>
        </description>
      </question>

      <question name="ByTextSearch" queryRef="GroupIds.ByTextSearch"
                displayName="Text Terms"
                shortDisplayName="Text"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
	  <![CDATA[
                Find Ortholog Groups based on text terms.
			]]>
        </description>
      </question>


      <question name="ByPFamIdOrKeyword" queryRef="GroupIds.ByPfamIdOrKeyword" 
                displayName="PFam ID or Keyword"
                shortDisplayName="PFam"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
          <![CDATA[
                Find Ortholog Groups that contain one or more Sequences with the specified PFam domain.
                        ]]>
        </description>
      </question>


      <question name="ByEcNumber" queryRef="GroupIds.ByEcNumber" 
                displayName="Enzyme Commission Assignment" shortDisplayName="Enzymes"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
          <![CDATA[ Find groups that have one or more Sequences with the specified Enzyme Commission Number]]>
        </description>
      </question>

      <question name="BySequenceCount" queryRef="GroupIds.BySequenceCount" 
                displayName="Number of Sequences"
                shortDisplayName="Number Seqs"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
          <![CDATA[
                Find Ortholog Groups that contain a specified number of Sequences.
                        ]]>
        </description>
      </question>


      <question name="ByGenomeCount" queryRef="GroupIds.ByGenomeCount" 
                displayName="Number of Taxa"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
          <![CDATA[
                Find Ortholog Groups that contain a specified number of taxa.
                        ]]>
        </description>
      </question>


      <question name="ByPercentMatchPairs" queryRef="GroupIds.ByPercentMatchPairs" 
                displayName="Percent Significant Pairs"
                shortDisplayName="% Sig Pairs"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <attributesList
           summary="number_of_members, avg_percent_identity, avg_percent_match, percent_match_pairs, avg_connectivity, ec_numbers"
           sorting="percent_match_pairs desc"
           /> 
        <description>
          <![CDATA[
                Find Ortholog Groups by the percentage of their Sequence pairs that have significant similarity.
                        ]]>
        </description>
      </question>


      <question name="ByPercentIdentity" queryRef="GroupIds.ByPercentIdentity" 
                displayName="Avg % Identity"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <attributesList
           summary="number_of_members, avg_percent_identity, avg_percent_match, percent_match_pairs, avg_connectivity, ec_numbers"
           sorting="avg_percent_identity desc"
           /> 
        <description>
          <![CDATA[
                Find Ortholog Groups by the average percent identity of all their Sequence pairs that have significant similarity.
                        ]]>
        </description>
      </question>


      <question name="ByPercentMatch" queryRef="GroupIds.ByPercentMatch" 
                displayName="Avg % Match"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <attributesList
           summary="number_of_members, avg_percent_identity, avg_percent_match, percent_match_pairs, avg_connectivity, ec_numbers"
           sorting="avg_percent_match desc"
           /> 
        <description>
          <![CDATA[
                Find Ortholog Groups by the average percent match of all their Sequence pairs that have significant similarity.
                        ]]>
        </description>
      </question>

      
      <question name="ByPhyleticPattern" queryRef="GroupIds.ByPhyleticPattern" 
		displayName="Phyletic Patterns" shortDisplayName="Phyletic"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
	  <![CDATA[
<p>Find Ortholog Groups by phyletic pattern.</p>

<p>A Phyletic Pattern Expression (PPE) is a powerful way to search for Ortholog Groups by the clades they contain. The pattern specifies the presence or absence of one or more clades, and optionally the number of sequences for each clade.</p>

<p>*The PPE Grammar: Individual grammatical units of PPE expressions are composed of two parts:</p>
<ol>
  <li> A species specification, composed of a three-letter species abbreviation (e.g. "tgon"), or a list of species abbreviations linked by plus sign "+" (e.g. "tgon+pfal+hsap"). Several abbreviations are also permitted, such as "BACT" for all Eubacteria genomes, "EUKA" for all eukaryotic genomes, "APIC" for all apicomplexan genomes, "ALL" to represent all the genomes in the current OrthoMCL (clade abbreviations are indicated on the form).</li>
  <li> A logical comparison operator, such as >, <, =, >=, or <=, and a number representing the number of sequences from these species that must be present in the ortholog group (e.g. "tgon>5" specifies ortholog groups containing at least 5 in-paralogs from Toxoplasma gondii. Alternatively, when appended with the character "T" (for Taxa), this number represents the number of species that must be represented in the ortholog group.</li>
</ol>
	<p>Multiple expression units may be combined using "AND" or "OR", and may use parentheses to provide explicit execution ordering.</p>

	<p>Examples & Explanations:</p>
	<ul>
	  <li>"hsap+ecol=2T" would generate ortholog groups in which both human and E. coli are present.</li>
	  <li>"hsap+ecol=1T" would generate ortholog groups in which only one species of human and E. coli is present.</li>
	  <li>"ALL=150T" would generate ortholog groups representing all 150 species.</li>
	  <li>"EUKA=35T" would generate Eukaryota-universal ortholog groups (representing all 35 eukaryotic species).</li>
	  <li>"EUKA>=5T AND hsap>=10" would generate all ortholog groups representing at least five eukaryotic species and containing at least 10 human proteins.</li>
	</ul>

	<p>Tips:</p>
	<ul>
	  <li> Please prevent redundancy in your PPE query, e.g. "hsap>=1" is equal to "hsap=1T", so no need to mention them twice.</li>
	  <li> Please merge different PPE units to save time in query, e.g. "hsap=1T AND mmus=1T" can be merged as "hsap+mmus=2T".</li>
	</ul>
	]]>
        </description>
      </question>


      <question name="FromSequences" queryRef="GroupIds.FromSequences" 
                displayName="Transform to Groups" shortDisplayName="To Groups"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
          <![CDATA[ Transform Sequence results into Groups. ]]>
        </description>
      </question>


      <question name="AllGroups" queryRef="GroupIds.AllGroups" 
                displayName="All Groups"
                recordClassRef="GroupRecordClasses.GroupRecordClass">
        <description>
          <![CDATA[
                Find all Ortholog Groups in the current release of OrthoMCL.
                        ]]>
        </description>
      </question>

    </questionSet>

</wdkModel>
